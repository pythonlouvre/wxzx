---
layout: post
title: 代码整洁之道(一)
---

## 代码永存
我们可以创造出各种与需求接近的语言。然而，我们永远无法抛弃必要的精确性----所以代码永存。

## 糟糕的代码
糟糕的代码可以毁掉一家公司，因为烂代码越堆越烂导致最后你再也没有办法管理这些代码了。
我们都曾经瞟一眼亲手造成的混乱，决定弃之而不顾，走向新一天。我们都曾经看到自己的烂程序居然能运行，然后断言能运行的烂程序总比什么都没有强。我们都曾经说过有朝一日再回头清理。当然，在那些日子里，我们都没听过勒布朗法则：稍后等于永不。

## 混乱的代价
有些团队在项目出气进展迅速，但有那么一两年的时间却慢如蜗行。对代码的每次修改都影响到其他两三处代码。
随着混乱的增加，团队生产力也持续下降，趋向于0.当生产力下降时，管理层就只有一件事可做：增加更多人手到项目中，期望提高生产力。可是新人并不熟悉系统的设计。而且，他们以及团队中的其他人都背负着提升生产力的可怕压力。于是，他们制造更多的混乱，驱动生产力向0那端不断下降。

## 华丽新设计
开发团队造反了，他们告诉管理层，再也无法在这令人生厌的代码上做开发了，他们要求推倒重来。管理层不愿意投入资源完全重启炉灶，但他们不能否认生产力低得可怕。他们只好同意开发者的要求，授权去做一套看上去很美的华丽新设计。
于是组建了一支新军。谁都想加入这个团队，因为它是一张白纸。他们可以重新来过，搞出点真正漂亮的东西来。但只有最优秀、最聪明的家伙被选中。其余人等则继续维护现有系统。
现在两支队伍在竞赛了。新团队必须搭建一套新系统，要能实现旧系统的所有功能。另外，还得跟上对就系统的持续改动。在新系统功能足以抗衡旧系统之前，管理层不会替换掉旧系统。
竞赛可能会持续极长时间。有可能就持续十年之久的。到了完成的时候，新团队的老成员早已不知去向，而现有成员则要求重新设计一套新系统，因为这套系统太烂了。



